(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{167:function(t,e,n){var content=n(172);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("7c0e7c22",content,!0,{sourceMap:!1})},168:function(t,e,n){var content=n(174);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(38).default)("6759f5ab",content,!0,{sourceMap:!1})},169:function(t,e,n){"use strict";n(170)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},170:function(t,e,n){var o=n(6),r=n(9),l=n(20),d=/"/g,c=function(t,e,n,o){var r=String(l(t)),c="<"+e;return""!==n&&(c+=" "+n+'="'+String(o).replace(d,"&quot;")+'"'),c+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(c),o(o.P+o.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},171:function(t,e,n){"use strict";var o=n(167);n.n(o).a},172:function(t,e,n){(t.exports=n(37)(!1)).push([t.i,".main-canvas{border:1px solid #ccc}",""])},173:function(t,e,n){"use strict";var o=n(168);n.n(o).a},174:function(t,e,n){(t.exports=n(37)(!1)).push([t.i,"input[type=file]{position:absolute;opacity:0;z-index:-1}.input-zoom{width:50px}.layers,.main{border:1px solid #ccc}.layers{padding:5px}.layers:empty{padding:10px}.layers li{border:1px dotted #ccc;padding:5px;font-size:1.2rem}.layers li+li{margin-top:5px}.mdi-plus-circle{color:#00f}.mdi-minus-circle{color:green}.mdi-close-circle{margin-left:1rem;color:red}.w100{width:100%}.mt-1{margin-top:10px}.stamps{list-style:none;display:flex;flex-direction:row;flex-wrap:wrap}.stamps li{padding:2px}.stamps a{border:1px solid #ccc;border-radius:5px;padding:5px;display:inline-block;width:40px}",""])},175:function(t,e,n){"use strict";n.r(e);n(74),n(105),n(57),n(169);var o=null,r=0;function l(t){t.interactive=!0,t.on("pointerdown",d).on("pointerup",c).on("pointerupoutside",c).on("pointermove",m)}function d(t){o=this,console.log(this),this.dragging||(this.data=t.data,this.dragging=!0,this.alpha=.7,this.dragPoint=t.data.getLocalPosition(this.parent),this.dragPoint.x-=this.x,this.dragPoint.y-=this.y)}function c(){this.dragging&&(this.dragging=!1,this.alpha=1,this.data=null)}function m(){if(this.dragging){var t=this.data.getLocalPosition(this.parent);this.x=t.x-this.dragPoint.x,this.y=t.y-this.dragPoint.y}}var v={data:function(){return{layerMask:null,layerContainer:null,selected:o}},mounted:function(){this.app=new PIXI.Application({width:600,height:777,backgroundColor:16777215,view:this.$el}),this.layerContainer=new PIXI.Container,this.app.stage.addChild(this.layerContainer),this.loadCharaImage(),this.loadOverlay()},methods:{loadOverlay:function(){var t=new PIXI.Sprite.from("001_overlay.png");t.width=this.app.renderer.width,t.height=this.app.renderer.height,t.blendMode=PIXI.BLEND_MODES.MULTIPLY,this.app.stage.addChild(t)},loadCharaImage:function(){var t=PIXI.Texture.from("001_mask.png"),e=new PIXI.Sprite.from(t);e.width=this.app.renderer.width,e.height=this.app.renderer.height,this.app.stage.addChild(e)},addImage:function(path){var t=PIXI.Sprite.from(path,{crossOrigin:!0});t.x=this.app.renderer.width/2,t.y=this.app.renderer.height/2,t.anchor.x=t.anchor.y=.5,t.name="ÁîªÂÉè"+r++,l(t),this.layerContainer.addChild(t),this.$emit("add-layer",t)},addText:function(body,t,e,n){var o=new PIXI.Text(body,{fontSize:t,fill:e,fontFamily:n});o.x=this.app.renderer.width/2,o.y=this.app.renderer.height/2,o.anchor.x=o.anchor.y=.5,o.name=body,l(o),this.layerContainer.addChild(o),this.$emit("add-layer",o)},remove:function(t){this.layerContainer.removeChild(t)}}},h=(n(171),n(25)),f={data:function(){return{addingText:"",addingTextSize:100,addingTextColor:"000000",addingTextFont:"Arial",layers:[],zoomAmount:10,rotateAmount:30,colors:[{text:"Èªí",value:"000000"},{text:"Ëµ§",value:"ff0000"},{text:"Èùí",value:"0000ff"},{text:"ÁôΩ",value:"ffffff"},{text:"„Ç∞„É¨„Éº",value:"808080"},{text:"„ÅäËÇå",value:"fff5ee"},{text:"Á¥´",value:"800080"},{text:"„Ç™„É¨„É≥„Ç∏",value:"ffa500"},{text:"Ëå∂",value:"a0522d"},{text:"ÈùíÁ∑ë",value:"40e0d0"}],stamps:["‚öì","üç£","üéÆ","üéº","üé∂","‚ù§","üíì","üíï","üíã","üê∞","üí™","üôè","üôå","‚ùó","‚ùì","‚ú®","üåü","üéâ","üòç","üò£","üíØ","üâê","„äó","„äô","üë∫","üí©"]}},computed:{zoomScale:function(){return this.zoomAmount/100},rLayers:function(){return this.layers.reverse()}},methods:{onImageChange:function(t){var e=t.target.files[0];e&&e.type.match("image.*")&&this.readAsBase64Image(e)},readAsBase64Image:function(t){var e=this,n=new FileReader;n.onload=function(t){e.$refs.main.addImage(t.target.result)},n.readAsDataURL(t)},onAddLayer:function(t){this.layers.push(t)},onZoom:function(t,e){t.scale.x+=e,t.scale.y+=e},onRotate:function(t,e){t.angle+=e},onDelete:function(t){this.$refs.main.remove(t),this.layers.splice(this.layers.indexOf(t),1)},onAddText:function(){this.addingText.length>0&&(this.$refs.main.addText(this.addingText,this.addingTextSize,parseInt(this.addingTextColor,16),this.addingTextFont),this.addingText="")},addStamp:function(t){this.$refs.main.addImage(t.target.src)},download:function(){console.log(this.$refs.main.$el);var data=this.$refs.main.$el.toDataURL("image/png").replace("image/png","image/octet-stream");this.$refs.download.setAttribute("href",data)}},components:{MainCanvas:Object(h.a)(v,function(){var t=this.$createElement;return(this._self._c||t)("canvas",{staticClass:"main-canvas"})},[],!1,null,null,null).exports},mounted:function(){window.twemoji.parse(document.body)}},x=(n(173),Object(h.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"columns is-centered"},[n("div",{staticClass:"column"},[n("div",{staticClass:"canvas-wrapper"},[n("MainCanvas",{ref:"main",on:{"add-layer":t.onAddLayer}})],1)]),t._v(" "),n("div",{staticClass:"column"},[n("label",{staticClass:"w100 button is-primary is-large"},[t._v("\n        ÁîªÂÉè„ÇíËøΩÂä†„Åô„Çã\n        "),n("input",{staticClass:"select-image-button",attrs:{type:"file",accept:"image/*"},on:{change:t.onImageChange}})]),t._v(" "),n("div",{staticClass:"mt-1"},[n("label",{staticClass:"is-inline-block"},[t._v("ÊñáÂ≠ó„Åß„Åã„Åï(px)")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.addingTextSize,expression:"addingTextSize",modifiers:{number:!0}}],staticClass:"is-inline-block",staticStyle:{width:"60px"},attrs:{type:"number"},domProps:{value:t.addingTextSize},on:{input:function(e){e.target.composing||(t.addingTextSize=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("br"),t._v(" "),n("label",{staticClass:"is-inline-block"},[t._v("Ëâ≤")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.addingTextColor,expression:"addingTextColor"}],staticStyle:{width:"80px"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.addingTextColor=e.target.multiple?n:n[0]}}},t._l(t.colors,function(e){return n("option",{key:e.value,style:{backgroundColor:"#"+e.value},domProps:{value:e.value}},[t._v(t._s(e.text))])}),0),t._v(" "),n("br"),t._v(" "),n("label",{staticClass:"is-inline-block"},[t._v("„Éï„Ç©„É≥„Éà")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.addingTextFont,expression:"addingTextFont"}],staticStyle:{width:"200px"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.addingTextFont=e.target.multiple?n:n[0]}}},[n("option",[t._v("Arial")]),t._v(" "),n("option",[t._v("Impact")]),t._v(" "),n("option",[t._v("Century")]),t._v(" "),n("option",[t._v("Ôº≠Ôº≥ Ôº∞„Ç¥„Ç∑„ÉÉ„ÇØ")]),t._v(" "),n("option",[t._v("Ôº≠Ôº≥ Ôº∞ÊòéÊúù")]),t._v(" "),n("option",[t._v("„É°„Ç§„É™„Ç™")])]),t._v(" "),n("div",{staticClass:"mt-1 field has-addons"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.addingText,expression:"addingText"}],staticClass:"input",attrs:{type:"text",placeholder:""},domProps:{value:t.addingText},on:{input:function(e){e.target.composing||(t.addingText=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"control"},[n("a",{staticClass:"button is-info",on:{click:t.onAddText}},[t._v("\n              ÊñáÂ≠ó„ÇíËøΩÂä†„Åô„Çã\n            ")])])])]),t._v(" "),n("hr"),t._v(" "),n("label",{staticClass:"label"},[t._v("„Çπ„Çø„É≥„Éó")]),t._v(" "),n("div",[n("ul",{staticClass:"stamps"},t._l(t.stamps,function(e,i){return n("li",{key:i},[n("a",{on:{click:t.addStamp}},[t._v(t._s(e))])])}),0)]),t._v(" "),n("hr"),t._v(" "),n("div",[n("label",{staticClass:"label"},[t._v("„É¨„Ç§„É§„Éº")]),t._v(" "),n("ul",{staticClass:"layers"},[t.layers.length<1?n("li",[t._v("„Å™„Åó")]):t._e(),t._v(" "),t._l(t.rLayers,function(e){return n("li",{key:e.name,attrs:{draggable:"true"}},[n("p",[t._v(t._s(e.name))]),t._v(" "),n("div",[n("span",{staticClass:"mdi mdi-plus-circle",on:{click:function(n){return t.onZoom(e,t.zoomScale)}}}),t._v(" "),n("span",{staticClass:"mdi mdi-minus-circle",on:{click:function(n){return t.onZoom(e,-t.zoomScale)}}}),t._v(" "),n("span",{staticClass:"mdi mdi-rotate-left",on:{click:function(n){return t.onRotate(e,-t.rotateAmount)}}}),t._v(" "),n("span",{staticClass:"mdi mdi-rotate-right",on:{click:function(n){return t.onRotate(e,t.rotateAmount)}}}),t._v(" "),n("span",{staticClass:"mdi mdi-close-circle",on:{click:function(n){return t.onDelete(e)}}})])])})],2),t._v(" "),n("div",{staticClass:"mt-1"},[n("label",[t._v("„Ç∫„Éº„É†Èáè(%)")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.zoomAmount,expression:"zoomAmount",modifiers:{number:!0}}],staticClass:"is-inline-block",staticStyle:{width:"60px"},attrs:{type:"number"},domProps:{value:t.zoomAmount},on:{input:function(e){e.target.composing||(t.zoomAmount=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),n("label",[t._v("ÂõûËª¢Èáè(¬∞)")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.rotateAmount,expression:"rotateAmount",modifiers:{number:!0}}],staticClass:"is-inline-block",staticStyle:{width:"60px"},attrs:{type:"number"},domProps:{value:t.rotateAmount},on:{input:function(e){e.target.composing||(t.rotateAmount=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])])])]),t._v(" "),n("div",{staticClass:"columns column"},[n("a",{ref:"download",attrs:{download:"dasa-t.png"}},[n("button",{staticClass:"button is-primary is-large",on:{click:t.download}},[t._v("ÔºûÔºûÔºûÁîªÂÉè„Çí„ÉÄ„Ç¶„É≥„É≠„Éº„ÉâÔºúÔºúÔºú")])]),t._v(" "),n("script",{attrs:{async:"",src:"https://platform.twitter.com/widgets.js",charset:"utf-8"}})]),t._v(" "),n("hr"),t._v(" "),t._m(0)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"columns column"},[e("p",[this._v("Êõ¥Êñ∞Â±•Ê≠¥")]),this._v(" "),e("ul",[e("li",[this._v("2019/09/03 v0.01")])])])}],!1,null,null,null));e.default=x.exports}}]);